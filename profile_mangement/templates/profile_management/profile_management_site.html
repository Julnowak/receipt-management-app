{% extends "shopping_lists/base.html" %}

{% block content %}

    <style>
        .profile_image_div{
            transition: 0.5s;
        }
        .profile_image_div:hover{
            opacity: 50%;
            transition: 0.5s;
            cursor: pointer;
        }
    </style>
    <h2 style="text-align: center">Profil użytkownika</h2>

    <div style="width: fit-content; text-align: center; margin: auto" class="profile_image_div" id="prof_div">
        {% if my_profile.profile_image %}
            <div id="img_prof" style="background-color: lightpink; width: fit-content; border-radius: 64px; margin: auto; color: black;">
                {{ my_profile.profile_image|safe }}
            </div>
        {% else %}
            <svg xmlns="http://www.w3.org/2000/svg" width="128" height="128" fill="currentColor" class="bi bi-person-circle" viewBox="0 0 16 16">
              <path d="M11 6a3 3 0 1 1-6 0 3 3 0 0 1 6 0z"/>
              <path fill-rule="evenodd" d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8zm8-7a7 7 0 0 0-5.468 11.37C3.242 11.226 4.805 10 8 10s4.757 1.225 5.468 2.37A7 7 0 0 0 8 1z"/>
            </svg>
        {% endif %}
        <h3>{{ user }}</h3>
    </div>

    <script>

    var img_div = document.getElementById('img_prof');
    var prof_div = document.getElementById('prof_div');
    prof_div.addEventListener('mouseenter',function (e){
        img_div.innerHTML =`<svg xmlns="http://www.w3.org/2000/svg" width="128" height="128" fill="currentColor" class="bi bi-pencil-fill" viewBox="0 0 16 16">
          <path d="M12.854.146a.5.5 0 0 0-.707 0L10.5 1.793 14.207 5.5l1.647-1.646a.5.5 0 0 0 0-.708l-3-3zm.646 6.061L9.793 2.5 3.293 9H3.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.207l6.5-6.5zm-7.468 7.468A.5.5 0 0 1 6 13.5V13h-.5a.5.5 0 0 1-.5-.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.5-.5V10h-.5a.499.499 0 0 1-.175-.032l-.179.178a.5.5 0 0 0-.11.168l-2 5a.5.5 0 0 0 .65.65l5-2a.5.5 0 0 0 .168-.11l.178-.178z"/>
        </svg>`

    })

    prof_div.addEventListener('mouseout',function (e){
        img_div.innerHTML = `{{ my_profile.profile_image|safe}}`;

    })

    </script>


    <div style="margin: 20px">
        <div style="margin: 20px">
            <h3>Opis: </h3>
            <p>{{ my_profile.text }}</p>
        </div>

        <div style="margin: 20px">
            <h3>Wiek:</h3>
            <p> --s </p>
        </div>

        <div style="margin: 20px">
            <h3>Ostatnie logowanie: </h3>
            <p>{{ user.last_login|date:'d.m.Y' }}</p>
        </div>

        <div style="margin: 20px">
            <h3>Członek od: </h3>
            <p>{{ user.date_joined|date:'d.m.Y' }}</p>
        </div>


    </div>

    <div style="text-align: center">
        {% if user == my_profile.user %}
        <p>
            <a href="{% url 'account_management' %}">Zarządzaj kontem</a>
                    </p>
        <p>
        <a href="{% url 'account_deletion' %}">Usuń konto</a>
        </p>
        {% endif %}
    </div>



{% endblock content %}
