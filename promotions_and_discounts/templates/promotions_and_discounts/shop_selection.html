{% extends "shopping_lists/base.html" %}

{% block content %}
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>

    <h1 style="text-align: center;margin-top: 20px">Promocje</h1>
    <h3 style="text-align: center">Dostępne sklepy:</h3>

    {% for shop in shops %}
        <a class="shops" style="text-decoration: none; color: black" href="{% url 'promotions_and_discounts:shop_site' shop.slug %}">
            <div style="margin: 10px; padding: 20px; background-color: lightgray;border-radius: 10px">
                    {{ shop }}
            </div>
        </a>

    {% empty %}
        <div style="margin: 10px; text-align: center">
            <div style="background-color: gainsboro; padding: 15px; border-radius: 10px">
                Nie ma jeszcze dostępnych sklepów
            </div>
        </div>
    {% endfor %}

    <div id="spinner" style="display: none; text-align: center; margin: 20px">
        <div class="spinner-border" style="margin:30px; width: 3rem; height: 3rem; color: crimson" role="status">
            <span class="sr-only"></span>
        </div>
        <br>
        <strong>
            Poczekaj chwilkę!
            <br>
            Twoje wyniki są ładowane :)
        </strong>
    </div>

    <script>
        var spinner = document.getElementById("spinner")
        var shops = document.getElementsByClassName("shops")

        for (var i=0;i<shops.length;i++){
            shops[i].addEventListener("click", function (){
                spinner.style.display = "inline-block";
            })
        }

    </script>
{% endblock content %}
